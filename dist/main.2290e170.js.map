{"version":3,"sources":["main.js"],"names":["bgIMG","style","opacity","src","localStorage","getItem","cYear","innerText","Date","getFullYear","startTime","timeText","document","getElementById","date","hours","getHours","minute","getMinutes","second","getSeconds","innerHTML","checkTime","setTimeout","str","num","data","init","keys","hash","isHomePage","addEventListener","e","classList","add","input0","focus","preventDefault","key","code","toUpperCase","charCodeAt","isInputFocus","currentKeyEle","querySelector","window","open","alert","remove","value","searchValue","replace","searchEngine","url","id","trim","goToDetail","count","keyboard_show","keyboard_generate","blur","searchOptBox","ele","target","parentNode","$","siblings","removeClass","cover","backToHome","keyboardBox","visibility","li","closest","letter","className","length","hashInit","q","w","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","lsDataObj","JSON","parse","createSpan","span","createElement","textContent","createButton","link","button","stopPropagation","img","nextSibling","prompt","simplifyUrl","console","log","imgCheckError","setItem","stringify","generateKeyboard","createImg","domain","ul","appendChild","currentRow","display","file"],"mappings":"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","file":"main.2290e170.js","sourceRoot":"..\\src","sourcesContent":["// 入场\r\nbgIMG.style.opacity = \"1\"\r\n// 背景图片(本地存储 或 默认图)\r\nbgIMG.src = localStorage.getItem(\"bgIMG\") || \"http://imgsubmit.oss-cn-beijing.aliyuncs.com/img/PisgahNationalForest_ROW7154333793_1920x1080.jpg\"\r\n\r\n\r\n// footer 年份\r\ncYear.innerText = new Date().getFullYear()\r\n\r\n// 时间展示\r\nstartTime()\r\n\r\nfunction startTime() {\r\n  const timeText = document.getElementById(\"timeText\")\r\n  const date = new Date()\r\n  const hours = date.getHours() // 小时\r\n  const minute = date.getMinutes() // 分\r\n  const second = date.getSeconds() // 秒\r\n  timeText.innerHTML = `${hours}:${checkTime(minute)}`\r\n  setTimeout(startTime, 1000)\r\n}\r\n\r\n// 补位：当某个字段不是两位数时补0\r\nfunction checkTime(str) {\r\n  let num\r\n  str >= 10 ? num = str : num = \"0\" + str\r\n  return num\r\n}\r\n\r\n// 获取初始化数据data\r\nlet data = init()\r\nlet keys = data[\"keys\"]\r\nlet hash = data[\"hash\"]\r\n// console.log(\"keys\", keys)\r\n// console.log(\"hash\", hash)\r\n\r\n/*\r\n* 监听键盘任意键\r\n* 主页，按下一个任意键盘，激活input\r\n* */\r\nlet isHomePage = true\r\ndocument.addEventListener(\"keypress\", function (e) {\r\n  bgIMG.classList.add(\"inputFocus\")\r\n  // 主页，按键直接激活input\r\n  if (isHomePage) {\r\n    input0.classList.add(\"focus\")\r\n    input0.focus()\r\n    e.preventDefault()\r\n  }\r\n  // 监听键盘字母按键，执行链接跳转\r\n  let {key} = e\r\n  let code = key.toUpperCase().charCodeAt(0)  // console.log(\"code:\", code, \"\\n\", hash, \"\\n\", hash[key])\r\n  if (code >= 65 && code <= 90) {\r\n    // 在input不聚焦的情况下，实行键盘导航的监听\r\n    if (!isInputFocus && !isHomePage) {\r\n      let currentKeyEle = document.querySelector(`ul.row .key.${key}`)\r\n      if (currentKeyEle) {\r\n        if (hash[key]) {\r\n          window.open(`http://${hash[key]}`, \"_blank\")\r\n        } else {\r\n          window.alert(\"未设置链接\")\r\n        }\r\n      }\r\n    }\r\n    // 在input激活的情况下，添加按键动效\r\n    if (isInputFocus) {\r\n      // 按键动效（按下）\r\n      let currentKeyEle = document.querySelector(`ul.row .key.${e.key}`)\r\n      if (currentKeyEle) {\r\n        currentKeyEle.classList.add(\"down\")\r\n      }\r\n      // 按键动效（抬起）\r\n      document.addEventListener(\"keyup\", function (e) {\r\n        let currentKeyEle = document.querySelector(`ul.row .key.${e.key}`)\r\n        if (currentKeyEle) {\r\n          currentKeyEle.classList.remove(\"down\")\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // 监听回车：输入框有值前提下，获取搜索引擎，执行搜索跳转\r\n  if (input0.value && key === \"Enter\") {\r\n    let searchValue = input0.value.replace(/\\+/g, \"%2B\") // 解决：搜索内容中无法识别加号\r\n    let searchEngine = document.querySelector(\".searchOpt.selected\")\r\n    // console.log(`searchEngine: ${searchEngine}`)\r\n    let url\r\n    if (searchEngine.id === \"iconBaidu\") {\r\n      url = `https://www.baidu.com/s?word=${searchValue.trim()}`\r\n    } else {\r\n      url = `https://www.google.com/search?q=${searchValue.trim()}`\r\n    }\r\n    // console.log(`url: ${url}`)\r\n    window.open(url, \"_blank\")\r\n  }\r\n})\r\n\r\n/*\r\n* 监听input0激活事件\r\n* 用于鼠标直接激活input的情况\r\n* */\r\nlet isInputFocus = false\r\ninput0.addEventListener(\"focus\", function () {\r\n  isInputFocus = true\r\n  goToDetail()\r\n  if (count !== 0) {\r\n    keyboard_show()\r\n  } else {\r\n    keyboard_generate()\r\n  }\r\n  input0.addEventListener(\"keydown\", function (e) {\r\n    // console.log(e.key)\r\n    if (e.key === \"Escape\") {\r\n      input0.blur()\r\n      isInputFocus = false\r\n    }\r\n  })\r\n})\r\n\r\n\r\n/*\r\n* 切换搜索引擎，添加样式\r\n* 事件代理\r\n* */\r\nsearchOptBox.addEventListener(\"click\", function (e) {\r\n  // console.log(`e.target: ${e.target}`)\r\n  let ele = e.target\r\n  while (!ele.id) {\r\n    ele = ele.parentNode\r\n  }\r\n  ele.classList.add(\"selected\")\r\n  $(ele).siblings().removeClass(\"selected\")  // jQuery\r\n})\r\n\r\n/*\r\n* 监听鼠标右键：进入详情页\r\n* 生成键盘，显示input激活样式（不聚焦）\r\n* count等于0，表示从未进入过详情页，也就从未生成过键盘\r\n* count等于1，表示第一次进入详情页，执行生成了键盘\r\n* count大于1，表示键盘已存在，无需再次生成，只需控制显示（隐藏）\r\n* */\r\nlet count = 0\r\ndocument.addEventListener(\"contextmenu\", function (e) {\r\n  e.preventDefault()\r\n  isInputFocus = false\r\n  count += 1\r\n  // console.log(\"按下鼠标右键的次数\", count)\r\n  /* 进入详情页 */\r\n  goToDetail()\r\n  if (count === 1) {\r\n    keyboard_generate() // 生成键盘\r\n  } else {\r\n    keyboard_show()  // 显示键盘\r\n  }\r\n})\r\n\r\n/*\r\n* 点击cover，隐藏键盘，回到主页\r\n* */\r\ncover.addEventListener(\"click\", function () {\r\n  backToHome()\r\n  // 隐藏键盘\r\n  keyboardBox.style.opacity = \"0\"\r\n  keyboardBox.style.visibility = \"hidden\"\r\n})\r\n\r\n/*\r\n* 点击键盘，跳转网页\r\n* */\r\nkeyboardBox.addEventListener(\"click\", function (e) {\r\n  let li = e.target.closest(\"li\")\r\n  if (li) {\r\n    let letter = li.className.replace(\"key \", \"\")\r\n    if (hash[letter]) {\r\n      window.open(`http://${hash[letter]}`)\r\n    }\r\n  }\r\n})\r\n\r\n\r\nfunction init() {\r\n  const keys = {\r\n    0: [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"],\r\n    1: [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\"],\r\n    2: [\"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\"],\r\n    length: 3\r\n  }\r\n  const hashInit = {\r\n    q: \"mail.qq.com\",\r\n    w: \"\",\r\n    e: \"element.eleme.cn\",\r\n    r: \"rescuetime.com\",\r\n    t: \"\",\r\n    y: \"youtube.com\",\r\n    u: \"\",\r\n    i: \"iconfont.cn\",\r\n    o: \"\",\r\n    p: \"\",\r\n    a: \"aliyun.com\",\r\n    s: \"\",\r\n    d: \"movie.douban.com\",\r\n    f: \"fontawesome.com\",\r\n    g: \"google.com\",\r\n    h: \"huaban.com\",\r\n    j: \"juejin.im\",\r\n    k: \"\",\r\n    l: \"liubingxuan.xyz\",\r\n    z: \"zhihu.com\",\r\n    x: \"\",\r\n    c: \"\",\r\n    v: \"v2ex.com\",\r\n    b: \"bilibili.com\",\r\n    n: \"nasa.gov\",\r\n    m: \"developer.mozilla.org\"\r\n  }\r\n  const lsDataObj = JSON.parse(localStorage.getItem(\"h2-data\"))\r\n  const hash = lsDataObj || hashInit  // 优先获取本地存储hash数据\r\n  return {\"keys\": keys, \"hash\": hash}\r\n}\r\n\r\nfunction createSpan(letter) {\r\n  let span = document.createElement(\"span\")\r\n  span.className = \"letter\"\r\n  span.textContent = letter\r\n  return span\r\n}\r\n\r\nfunction createButton(letter, link) {\r\n  let button = document.createElement(\"button\")\r\n  button.textContent = \"编辑\"\r\n  button.id = letter\r\n  button.addEventListener(\"click\", function (e) {  // 给所有button绑定点击事件\r\n    e.stopPropagation()\r\n    let button = e.target  // 获取当前点击的button元素\r\n    let img = button.nextSibling  // 获取当前点击的img元素\r\n    let key = e.target.id // q w e...\r\n    let url = window.prompt(\"设置链接\", link) // link 作为默认值，展示在输入框中\r\n    // console.log(\"url:null\", url === null)\r\n    // console.log(\"url:空串\", url === \"\")\r\n    hash[key] = simplifyUrl(url) || \"\"  // 修改hash数据\r\n    if (url === null) {\r\n      console.log(`点击取消`)\r\n      return\r\n    } else if (url === \"\") {\r\n      hash[key] = \"\"\r\n      img.src = \"http://imgsubmit.oss-cn-beijing.aliyuncs.com/img/dot.png\"\r\n    } else {\r\n      console.log(`url有值`)\r\n      img.src = \"http://\" + url + \"/favicon.ico\"  // 修改ico地址\r\n      imgCheckError(img, url) // 处理获取失败的情况\r\n    }\r\n    console.log(\"hash[key]:\", hash[key])\r\n    // console.log(\"hash:\", hash)\r\n    localStorage.setItem(\"h2-data\", JSON.stringify(hash))\r\n    // 重新渲染\r\n    generateKeyboard(keys, hash)\r\n  })\r\n  return button\r\n}\r\n\r\nfunction createImg(domain) {\r\n  // console.log(domain)\r\n  let img = document.createElement(\"img\")\r\n  if (domain) {\r\n    img.src = \"http://\" + domain + \"/favicon.ico\"\r\n    imgCheckError(img, domain)\r\n  } else {\r\n    img.src = \"http://imgsubmit.oss-cn-beijing.aliyuncs.com/img/dot.png\"\r\n  }\r\n  return img\r\n}\r\n\r\nfunction generateKeyboard(keys, hash) {\r\n  keyboardBox.textContent = \"\"  // 先清空原有键盘，再生成新的\r\n  for (let i = 0; i < data.keys.length; i++) {  // i => 0 1 2\r\n    let ul = document.createElement(\"ul\")\r\n    ul.className = \"row\"\r\n    keyboardBox.appendChild(ul)\r\n    let currentRow = keys[i]\r\n    for (let j = 0; j < currentRow.length; j++) {  // j => 10 9 7\r\n      let letter = currentRow[j]\r\n      let span = createSpan(letter)\r\n      let button = createButton(letter, hash[letter])\r\n      let img = createImg(hash[letter])\r\n      let li = document.createElement(\"li\")\r\n      li.className = `key ${letter}`\r\n      li.appendChild(span)\r\n      li.appendChild(button)\r\n      li.appendChild(img)\r\n      ul.appendChild(li)\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\n* 用于优化 link 显示的内容（在渲染html结构时调用）\r\n* 需要考虑用户可能输入的各种情况\r\n* replace 返回新的字符串（所以可以链式调用）\r\n* */\r\nfunction simplifyUrl(url) {\r\n  if (url) {\r\n    return url.replace(\"https://\", \"\")\r\n      .replace(\"http://\", \"\")\r\n      .replace(\"www.\", \"\")\r\n      .replace(/\\/.*/, \"\")  // 删除 / 开头的内容 （需要转义）\r\n  }\r\n}\r\n\r\n// 获取ico失败的处理\r\nfunction imgCheckError(img, domain) {\r\n  img.addEventListener(\"error\", function (e) {\r\n    // e.target.src = `https://www.google.com/s2/favicons?sz=64&domain_url=${domain}` // 需FQ\r\n    e.target.src = \"http://imgsubmit.oss-cn-beijing.aliyuncs.com/img/website.png\"\r\n  })\r\n}\r\n\r\n// 显示键盘\r\nfunction keyboard_show() {\r\n  keyboardBox.style.display = \"block\"\r\n  keyboardBox.style.visibility = \"visible\"\r\n  setTimeout(() => {\r\n    keyboardBox.style.opacity = \"1\"\r\n  })\r\n}\r\n\r\n// 生成键盘\r\nfunction keyboard_generate() {\r\n  generateKeyboard(data.keys, data.hash)\r\n  keyboardBox.style.display = \"block\"\r\n  setTimeout(() => {\r\n    keyboardBox.style.opacity = \"1\"\r\n  })\r\n}\r\n\r\n// 样式修改：回到主页\r\nfunction backToHome() {\r\n  isInputFocus = false\r\n  isHomePage = true\r\n  searchOptBox.classList.remove(\"show\")\r\n  bgIMG.classList.remove(\"inputFocus\")\r\n  input0.classList.remove(\"focus\")\r\n  input0.blur()\r\n  input0.value = \"\"\r\n  file.style.opacity = \"0\"\r\n  file.style.visibility = \"hidden\"\r\n}\r\n\r\n// 样式修改：进入详情页\r\nfunction goToDetail() {\r\n  isHomePage = false\r\n  searchOptBox.classList.add(\"show\")\r\n  bgIMG.classList.add(\"inputFocus\")\r\n  input0.classList.add(\"focus\")\r\n  file.style.visibility = \"visible\"\r\n  setTimeout(() => {\r\n    file.style.opacity = \"1\"\r\n  })\r\n}\r\n"]}